# Data source 분산 트랜잭션

트랜잭션이란 쪼갤 수 없는 업무 처리의 최소 단위를 말합니다. 거래내역이라고도 합니다. &#x20;

1초당 처리할 수 있는 트랜잭션의 개수를 TPS라고 합니다. &#x20;

&#x20;트랜잭션은 신뢰할 수 있는 엔터프라이즈 애플리케이션을 구축하는 데 가장 중요한 부분 중 하나입니다.&#x20;

가장 일반적인 트랜잭션 타입은 데이터베이스 작업입니다.  &#x20;

일반적인 데이터 베이스 수정 작업을 살펴보면 먼저 데이터베이스 트랜잭션을 시작하고 데이터를 수정한 후 데이터베이스 수정 성공 여부에 따라 트랜잭션을 커밋하거나 롤백합니다.&#x20;

하지만 트랜잭션이 애플리케이션의 요구사항과 애플리케이션이 접근해야 하는 백엔드 리소스(예를 들어 RDBMS, 메시지 기반 미들웨어, ERP 시스템 등)에 따라 트랜잭션 관리가 훨씬 더 복잡해지는 경우도 많습니다.  &#x20;



트랜잭션 타입

1. 로컬 트랜잭션

관리하기 쉽고, 애플리케이션의 모든 처리가 하나의 트랜잭션의 자원만 사용해 이루어진다면 로컬 트랜잭션으로 충분 많은 트랜잭션이 되면 관리 코드를 작성해야 하며, 향후에 다중 트랜잭션 리소스에 걸치도록 확장해야 한다면 로컬 트랜잭션 관리 코드를 제거하고 글로벌 트랜잭션을 사용하도록 다시 개발 해야함.

&#x20;2\. 글로벌 트랜잭션

보통 사용하는 방법, 자바에서는 JTA로 글로벌 트랜잭션 구현

&#x20;![](../../../.gitbook/assets/image.png)

JTA 호환 트랜잭션 매니저로 각 분산 자원에 설치된 리소스 매니저를 이용해 다중 트랜잭션 리소스에 접근. 각 리소스 매니저와 통신은 XA 프로토콜(분산 트랜잭션을 정의하는 개방형 표준)을 사용합니다.

백엔드 리소스 리소스 매니저

백엔드 리소스 공급 업체가 제공하며 백엔드 리소스를 접근하는 데 사용됩니다

&#x20;JTA (Java Transaction API) 트랜잭션 매니저

트랜잭션에 참여하는 모든 리소스 매니저의 트랜잭션 상태를 관리, 조정, 동기화를 담당합니다. 분산 트랜잭션 처리에 널리 사용되는 공개 표준인 XA 프로토콜이 사용됩니다.

&#x20;출처: https://deseul.tistory.com/37 \[deblog:티스토리]
