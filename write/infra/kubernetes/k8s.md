# 배포전략

<figure><img src="../../../.gitbook/assets/Screenshot 2024-08-23 at 4.15.51 PM.png" alt=""><figcaption></figcaption></figure>

### 1. **Recreate (재생성)**

* **설명**: 이 배포 전략에서는 기존 버전의 모든 파드를 종료한 후 새 버전의 파드를 생성한다
* **장점**: 단순하고, 자원을 효율적으로 사용할 수 있다
* **단점**: 배포 과정에서 다운타임이 발생할 수 있다. 모든 파드가 한 번에 종료되기 때문에, 새 버전이 준비되기 전까지 서비스가 중단.
* **사용 사례**: 짧은 시간 동안의 다운타임이 허용 가능한 내부 시스템이나 비업무 시간에 배포할 때.

### 2. **Rolling Update (롤링 업데이트)**

* **설명**: 기존 파드를 하나씩 새 버전으로 교체해 나가는 방식. 새 파드를 순차적으로 생성하고, 생성된 새 파드가 준비되면 기존 파드를 종료.
* **장점**: 다운타임 없이 애플리케이션을 배포할 수 있습니다. 지속적인 가용성을 유지하면서 새로운 버전을 배포할 수 있다.
* **단점**: 배포 속도가 느릴 수 있으며, 중간에 장애가 발생하면 혼합된 상태(old & new)로 애플리케이션이 동작할 수 있다.
* **사용 사례**: 업타임이 중요한 애플리케이션, 지속적인 배포가 필요한 서비스.

### 3. **Blue-Green Deployment (블루-그린 배포)**

* **설명**: 현재 사용 중인 버전을 "Blue" 환경으로, 새 버전을 "Green" 환경으로 배포. 새 버전이 준비되면 트래픽을 "Blue"에서 "Green"으로 전환. 문제가 발생하면 다시 "Blue"로 트래픽을 전환하여 롤백할 수 있다.
* **장점**: 롤백이 쉽고, 배포 중에도 기존 환경의 안정성을 유지할 수 있다.
* **단점**: 두 배의 인프라가 필요할 수 있으며, 비용이 증가할 수 있다.
* **사용 사례**: 중요한 시스템의 무중단 배포, 롤백이 자주 발생할 수 있는 애플리케이션.

### 4. **Canary Deployment (카나리 배포)**

* **설명**: 새로운 버전을 소수의 사용자에게만 배포하여 실사용에서 테스트. 이후 문제가 없으면 점진적으로 배포 범위를 확대한다.
* **장점**: 새로운 버전의 안정성을 소규모 사용자에게 먼저 검증할 수 있어, 리스크를 줄일 수 있다.
* **단점**: 복잡한 트래픽 라우팅이 필요하며, 설정이 복잡할 수 있다.
* **사용 사례**: 새로운 기능이 포함된 업데이트, 실사용자 기반의 테스트가 필요한 경우.

