# 데이터베이스 인덱스 키의 최대 길이 제한

## 원인

info table에서 package라는 이름의 컬럼이 primary key로 되어있고

해당 컬럼을 VARCHAR(128) 을 VARCHAR(255) 로 변경했을 때 오류가 났다

```
ALTER TABLE `info`
	CHANGE COLUMN `package` `package_name` VARCHAR(255) NOT NULL DEFAULT '' COLLATE 'utf8mb4_general_ci' FIRST;
/* SQL 오류 (1071): Specified key was too long; max key length is 767 bytes */
```

해당 원인은 index가 잡혀있는 컬럼에 대해 스토리지 엔진의 페이지 크기 설정마다 다르지만&#x20;

`현재 DBMS상의 인덱스의 크기는 아무리 커도 최대 767Bytes 까지만 허용 되기 때문`

인덱스는 데이터베이스에서 매우 중요한 역할을 한다다.&#x20;

데이터베이스 시스템은 인덱스 키의 최대 길이를 제한하여 성능 및 공간 관리를 최적화함.

**1. 인덱스 키의 최대 길이 제한이 필요한 이유**

* **공간 관리**: 인덱스는 데이터베이스 공간을 차지하므로, 인덱스 키의 최대 길이를 제한하여 공간을 효율적으로 관리
* **성능 향상**: 큰 인덱스 키는 인덱스를 탐색하는 데 필요한 시간을 늘릴 수 있다. 따라서 인덱스 키의 최대 길이를 제한하여 검색 성능을 향상
* **유지 보수 효율성**: 인덱스가 크면 관리 및 유지 보수에 필요한 시간과 자원이 증가. 제한된 인덱스 키의 길이를 통해 유지 보수 효율성을 높인다.

### 현재 utf8mb4를 사용하고 있고 utf8mb4는 글자당 4바이트이므로 varchar(191) 까지 늘릴 수 있었음
