# ch2. 객체지향 프로그래밍

진정한 객체지향 패러다임의 전환은 클래스가 아닌 객체에 초점을 맞출 때에만 얻을 수 있다.&#x20;

이를위해서는 두가지에 집중해야한다.

1. 어떤 클래스가 필요한지를 고민하기전에 어떤 객체들이 필요한지 고민하라. 클래스는 공통적인 상태와 행동을 공유하는 객체들을 추상화한것 이므로 클래스의 윤곽을 잡기위해서는 어떤 객체들이 어떤 상태와 행동을 가지는지 먼저 결정해야한다.&#x20;
2. 객체를 독립적인 존재가 아니라 기능을 구현하기 위해 협력하는 공동체의 일원으로 봐야 한다. 객체를 협력하는 공동체의 일원으로 바라보는 것은 설계를 유연하게하고 확장 가능하게 만든다.

문제를 해결하기 위해 사용자가 프로그램을 사용하는 분야를 **도메인** 이라고한다.

객체가 상태와 행동을 함께 가지는 복합적인 존재이다. 객체가 스스로 판단하고 행동하는 자율적인 존재라는것.

객체가 데이터와 기능을 객체 내부로 함께 묶는 것을 **캡슐화**라고 부른다.

객체내부에 대한 접근을 통제하는 이유는 객체를 자율적인 존재로 만들기 위해서이다. 객체지향의 핵심은 스스로 상태를 관리하고, 판단하고, 행동하는 자율적인 객체들의 공동체를 구성하는 것이다.

객체는 다른 객체의 인터페이스에 공개된 행동을 수행하도록 요청, 응답 만을 한다. 객체가 다른 객체와 상호작용할 수 있는 유일한 방법은 메시지를 전송하는 것뿐이다. 다른 객체 요청이 도착할 때 해당 객체가 메세지를 수신했다고 이야기한다. 수신된 메시지를 처리하기 위한 자신만의 방법을 **메서드** 라고한다.

### **메서드와 메세지를 잘 구분하는것 부터 다형성의 개념이 출발한다.**

어떤 클래스가 다른 클래스에 접근할 수 있는 경로를 가지거나 해당 클래스의 객체의 메서드를 호출할 셩우 두 클래스 사이에 의존성이 존재한다고 말한다.

확장가능한 객체지향 설계가 가지는 특징은 코드의 의존성과 실행 시점의 의존성이 다르다는 것이다. 추상클래스나 부모클래스를 가지기 때문에, 하지만 코드를 이해하기 아려워진다는 문제가 있다. 또 하지만 확장과 유연한 설계가 가능하다.이와같은 의존성의 양면성은 설계가 트레이드오프의 산물이라는 사실을 잘 보여줌

휼륭한 객체지향 설계자는 유연성과 가독성 사이를 항상 고민한다.

**다형성이란 동일한 메시지를 수신했을 때 객체의 타입에 따라 다르게응답할 수 있는 능력을 의미한다. 다형적인 협력에 참여하는 객체들은 모두 같은 메시지를 이해할 수 있어야 한다.**

다형성으로 인해 메세지(부모클래스의 인터페이스만 호출) 를 실행시점에 매서드(메시지에 해당하는 자식클래스) 를 실행하는것이 지연바인딩 또는 동적 바인딩 이라고 한다.

반면 전통적인 함수호출처럼 컴파일 시점에 실행될 함수나 프로시저를 결정하는것을 초기바인딩, 정적바인딩 이라고한다.

추상화를 사용하면 세부적인 내용을 무시한채 상위 정책을 쉽고 간단하게 표현할 수 있다. 즉 상위 개념만으로도 도메인의 중요한 개념을 설명할 수 있게된다.

### 결론 : 유연성이 필요한곳에 추상화를해라.

객체지향의 코드 재사용성을 위해서 상속보다 합성이라는 것이 더 널리쓰인다. 합성은 다른객체의 인스턴스르 자신의 인스턴스 변수로 포함새러 재사용하는 방법.

상속은 컴파일시점에 결정하지만 합성은 런타임 시점에 결정되어 훨씬 느슨함. 이처럼 인터페이스에 정의된 메세지를 통해서만 코드를 재사용하는 방법을 합성 이라고 한다.
