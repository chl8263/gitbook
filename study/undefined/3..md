# 3. 코드에서 나는 악취

## 3.1 기이한 이름

* 코드는 단순하고 명료하게 작성해야 한다
* 이름만 보고도 각각이 무슨 일을 하고 어떻게 사용해야 하는지 명확히 알 수 있도록 엄청나게 신경써야 한다

## 3.3 긴 함수

* 예전에는 서브 함수 호출에 대한 비용이 컸다
* 요즘 언어들은 이 비용을 거의 없앴다
* 따라서 적극적인 짧은 함수 호출을 만들어 문맥을 자연스럽게 이어나갈 수 있도록 해야한다
* 우리가 주석을 달아야 할 만한 부분은 무조건 함수로 만든다
  * 함수로 묶는 코드는 여러 줄일 수 있고 한줄일 수도 있다
  * 핵심은 길이가 아닌 함수의 목적과 구현 코드의 괴리가 얼마나 큰가 이다
  * '무엇을 하는지'를 코드가 잘 성명해주지 못할수록 함수로 만드는게 유리하다
* 조건문이나 반복문도 추출 한다
  * 거대한 switch문을 구성하는 case문마다 함수를 추출하여 case 본문을 함수 호출문으로 바꾼다
  * 같은 조건을 기준을 나뉘는 switch문이 여러개라면 조건문을 다형성으로 바꾼다

## 3.5 전역 데이터

* 전역 데이터는 코드베이스 어디에서 건들일 수 있고 누가 값을 바꿨는지도 찾기 힘들다
* 이에 대표적인 리팩터링은 변수 '캡슐화하기' 이다
  * 이런 데이터를 함수로 감싸는 것만으로도 데이터를 수정하는 부분을 쉽게 찾을 수 있고 접슨을 통제할 수 있다
* 전역데이터가 mutable이면 정말 까다롭다.
* immutable이면 그나마 안전한 편이다

## 3.11 기본형 집착

* 화폐, 좌표, 구간 등 금약을 그냥 기본형으로 지정하지 말고 객체로 바꾸면 가독성이 증가한다

## 3.13 반복문

* 반복문은 파이프라인으로(내부 반복) 으로 바꾼다

## 3.15 추측성 일반화

* '나중에 필요할 거야' 라는 생각으로 코드를 넣지마라, 안필요한 경우개 대부분이다 그냥 지워라

## 3.24 주석

* 주석을 남기고 싶다면 함수로 빼서 만들어본다
* 이미 추출되어있는 함수임에도 여전히 설명이 필요하다면 함수이름을 변경해본다
* 즉, 주석을 남겨야겠다는 생각이들면, 가장 먼저 주석이 필요없는 코드로 리펙터링 해본다
* 뭘 한지 모를 떄라면 주석을 달아두면 좋다
* 현재진행 상황뿐만 아니라 확실하지 않은 부분에 주석을 남긴다
